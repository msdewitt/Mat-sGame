"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
require("reflect-metadata");
const containers_1 = require("../containers");
exports.resolveDependencyTree = (target, container, dependencies) => {
    let lis = containers_1.ClassContainer.getParents();
    // Checking children dependencies:
    if (lis) {
        let _obj = new target();
        Object.getOwnPropertyNames(lis).forEach(x => {
            lis[x].resolveDepedendencies();
            if (_obj instanceof lis[x].type) {
                container.resolved = lis[x].resolved;
                lis[x].addChild(container);
            }
            if (dependencies) {
                dependencies.forEach(y => {
                    if (lis[x].instance && y.container.type == lis[x].type) {
                        y.container = lis[x].instance;
                    }
                });
            }
        });
        container.dependencies = dependencies || [];
    }
};
//# sourceMappingURL=util.js.map